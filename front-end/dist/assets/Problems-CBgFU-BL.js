import{r as s,j as e,B as p,b as a,F as L,S as v,bA as w,o as k,L as y,v as P}from"./react-vendor-UrX0Iyen.js";import{h as z,s as C,L as B}from"./index-DHxdizMM.js";import"./charts-vendor-DwxpLNbD.js";import"./vendor-DdjKqKjT.js";import"./lodash-vendor-CBiJWk4A.js";import"./axios-vendor-xsH4HHeE.js";import"./moment-vendor-CTDujYFw.js";const A=({height:x,refreshKey:u,onFinishRefresh:o})=>{const[l,m]=s.useState([]),[g,i]=s.useState(!1),[c,d]=s.useState(null),[r,b]=s.useState("true"),h=s.useCallback(async()=>{i(!0),d(null);try{const t={ascending:!0};(r==="true"||r==="false")&&(t.published=r==="true");const n=await z({controller:"Problem",page:1,pageSize:10,params:t});m(n.data||[])}catch(t){d("Không thể tải danh sách bài tập."),console.error("Lỗi khi lấy danh sách bài tập:",t)}finally{i(!1),o==null||o()}},[r,o]);s.useEffect(()=>{h()},[h,u]);const j=t=>{b(t.target.value)};return e.jsxs(p,{p:5,bg:"white",h:x||"auto",shadow:"md",borderRadius:"md",children:[e.jsxs(a,{fontSize:"xl",fontWeight:"bold",mb:4,children:["Bài tập (",l.length,")"]}),e.jsx(L,{mb:4,gap:4,align:"center",children:e.jsxs(v,{maxW:"200px",value:r,onChange:j,children:[e.jsx("option",{value:"",children:"Tất cả"}),e.jsx("option",{value:"true",children:"Công khai"}),e.jsx("option",{value:"false",children:"Không công khai"})]})}),g?e.jsx(w,{h:"100%",children:e.jsx(k,{size:"xl"})}):c?e.jsx(a,{color:"red.500",children:c}):l.length===0?e.jsx(a,{children:"Không có bài tập nào."}):e.jsx(y,{spacing:4,maxH:"250px",overflowY:"auto",children:l.map(({problemID:t,problemName:n,problemContent:f,coderName:S})=>e.jsxs(P,{p:4,borderWidth:"1px",borderRadius:"md",_hover:{shadow:"lg"},children:[e.jsx(a,{fontWeight:"bold",children:n}),e.jsx(p,{sx:{wordBreak:"break-word"},dangerouslySetInnerHTML:{__html:C(B(f,50))}}),e.jsxs(a,{fontSize:"sm",color:"gray.600",children:["Người tạo: ",S]})]},t))})]})};export{A as default};
