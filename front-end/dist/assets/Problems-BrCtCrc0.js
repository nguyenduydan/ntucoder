import{b as s,j as e,B as p,T as a,F as L,n as v,bX as w,v as k,L as y,E as P}from"./vendor-BGniOJC6.js";import{h as z,s as C,L as E}from"./index-PLasXggS.js";import"./charts-vendor-CYURHQdq.js";import"./lodash-vendor-CS6reBND.js";import"./axios-vendor-xsH4HHeE.js";import"./moment-vendor-CTDujYFw.js";const I=({height:x,refreshKey:u,onFinishRefresh:l})=>{const[o,m]=s.useState([]),[g,i]=s.useState(!1),[c,d]=s.useState(null),[r,b]=s.useState("true"),h=s.useCallback(async()=>{i(!0),d(null);try{const t={ascending:!0};(r==="true"||r==="false")&&(t.published=r==="true");const n=await z({controller:"Problem",page:1,pageSize:10,params:t});m(n.data||[])}catch(t){d("Không thể tải danh sách bài tập."),console.error("Lỗi khi lấy danh sách bài tập:",t)}finally{i(!1),l==null||l()}},[r,l]);s.useEffect(()=>{h()},[h,u]);const j=t=>{b(t.target.value)};return e.jsxs(p,{p:5,bg:"white",h:x||"auto",shadow:"md",borderRadius:"md",children:[e.jsxs(a,{fontSize:"xl",fontWeight:"bold",mb:4,children:["Bài tập (",o.length,")"]}),e.jsx(L,{mb:4,gap:4,align:"center",children:e.jsxs(v,{maxW:"200px",value:r,onChange:j,children:[e.jsx("option",{value:"",children:"Tất cả"}),e.jsx("option",{value:"true",children:"Công khai"}),e.jsx("option",{value:"false",children:"Không công khai"})]})}),g?e.jsx(w,{h:"100%",children:e.jsx(k,{size:"xl"})}):c?e.jsx(a,{color:"red.500",children:c}):o.length===0?e.jsx(a,{children:"Không có bài tập nào."}):e.jsx(y,{spacing:4,maxH:"250px",overflowY:"auto",children:o.map(({problemID:t,problemName:n,problemContent:f,coderName:S})=>e.jsxs(P,{p:4,borderWidth:"1px",borderRadius:"md",_hover:{shadow:"lg"},children:[e.jsx(a,{fontWeight:"bold",children:n}),e.jsx(p,{sx:{wordBreak:"break-word"},dangerouslySetInnerHTML:{__html:C(E(f,50))}}),e.jsxs(a,{fontSize:"sm",color:"gray.600",children:["Người tạo: ",S]})]},t))})]})};export{I as default};
