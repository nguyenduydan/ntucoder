import{r as i,j as t,ay as C,F as d,B as f,p as y,bK as h,c7 as j,c8 as z,c9 as k,ca as w,cb as B}from"./react-vendor-UrX0Iyen.js";import{h as l}from"./index-DHxdizMM.js";import{C as R}from"./Count-DdxSRUlj.js";import{S as E}from"./vendor-DdjKqKjT.js";import"./charts-vendor-DwxpLNbD.js";import"./lodash-vendor-CBiJWk4A.js";import"./axios-vendor-xsH4HHeE.js";import"./moment-vendor-CTDujYFw.js";const F={"Người dùng":z,"Khóa học":h,"Bài tập":j,"Số người đăng ký":h},K={"Người dùng":"purple","Khóa học":"teal","Bài tập":"orange","Số người đăng ký":"blue"},N=E(B),$=({refreshKey:x,onFinishRefresh:c})=>{const[r,b]=i.useState({users:0,courses:0,problems:0,enrolls:0}),p=i.useCallback(async()=>{var e,a,s,n;try{const[o,u,g,m]=await Promise.all([l({controller:"Course",page:1,pageSize:1}),l({controller:"Problem",page:1,pageSize:1}),l({controller:"Coder",page:1,pageSize:1}),l({controller:"Enrollment",page:1,pageSize:1})]);b({users:g.totalCount||((e=g.data)==null?void 0:e.totalCount)||0,courses:o.totalCount||((a=o.data)==null?void 0:a.totalCount)||0,problems:u.totalCount||((s=u.data)==null?void 0:s.totalCount)||0,enrolls:m.totalCount||((n=m.data)==null?void 0:n.totalCount)||0})}catch(o){console.error("Lỗi khi lấy số liệu thống kê:",o)}finally{c&&c()}},[]);i.useEffect(()=>{p()},[p,x]);const S=[{label:"Người dùng",value:r.users},{label:"Khóa học",value:r.courses},{label:"Bài tập",value:r.problems},{label:"Số người đăng ký",value:r.enrolls}];return t.jsx(C,{columns:{base:1,md:4},spacing:6,mb:8,children:S.map(({label:e,value:a},s)=>{const n=F[e],o=K[e];return t.jsx(N,{px:6,py:8,shadow:"xl",borderRadius:"lg",bgGradient:`linear(to-r, ${o}.400, ${o}.600)`,color:"white",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:s*.2},children:t.jsxs(d,{align:"center",children:[t.jsx(f,{boxSize:20,mr:2,bg:"whiteAlpha.300",borderRadius:"md",display:"flex",alignItems:"center",justifyContent:"center",children:t.jsx(y,{as:n,w:10,h:10})}),t.jsxs(d,{align:"start",flexDirection:"column",children:[t.jsx(k,{fontWeight:"bold",fontSize:"md",letterSpacing:"wider",children:e}),t.jsx(w,{fontSize:"3xl",fontWeight:"extrabold",letterSpacing:"tight",children:t.jsx(R,{to:a},a)})]})]})},e)})})};export{$ as default};
