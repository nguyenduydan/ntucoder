import{r as e,i as C,j as s,s as p,av as S,a6 as w,D as l,aD as z,aa as E,ab as k,ac as m,ad as n,ae as v,af as c,aE as D}from"./index-C3mpdEe2.js";const K=({refreshKey:b,onFinishRefresh:r,height:i})=>{const[o,f]=e.useState([]),[T,h]=e.useState(!1),[x,j]=e.useState(null),u=e.useCallback(async()=>{h(!0),j(null);try{const d=(await C.get("/Coder/list-ranking")).data.data.slice(0,5).map((a,y)=>({...a,rank:y+1}));f(d)}catch(t){j("Không thể tải danh sách coder."),console.error("Lỗi khi lấy danh sách coder:",t)}finally{h(!1),r==null||r()}},[r]);return e.useEffect(()=>{u()},[u,b]),T?s.jsx(p,{p:5,bg:"white",shadow:"md",borderRadius:"md",h:i||"auto",children:s.jsx(S,{h:"100%",children:s.jsx(w,{size:"xl"})})}):s.jsxs(p,{p:5,bg:"white",shadow:"md",borderRadius:"md",h:i||"auto",children:[s.jsxs(l,{fontSize:"xl",fontWeight:"bold",mb:4,display:"flex",alignItems:"center",gap:2,children:[s.jsx(z,{size:24}),"Danh sách 5 người cao nhất"]}),x?s.jsx(l,{color:"red.500",children:x}):o.length===0?s.jsx(l,{children:"Không có dữ liệu xếp hạng."}):s.jsxs(E,{variant:"striped",bg:"gray.300",size:"md",children:[s.jsx(k,{children:s.jsxs(m,{children:[s.jsx(n,{children:"Rank"}),s.jsx(n,{children:"Tên"}),s.jsx(n,{children:"Điểm"})]})}),s.jsx(v,{children:o.map(({coderID:t,coderName:g,totalPoint:d,rank:a})=>s.jsxs(m,{children:[s.jsx(c,{children:a<=3?s.jsx(D,{color:a===1?"gold":a===2?"silver":"#cd7f32",size:20}):a}),s.jsx(c,{children:g}),s.jsx(c,{children:(d||0).toLocaleString()})]},t))})]})]})};export{K as default};
