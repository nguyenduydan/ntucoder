import{r as i,j as t,ay as C,F as m,B as f,p as y,bK as h,c7 as j,c8 as z,c9 as k,ca as w,cb as B}from"./react-vendor-jMCSND2O.js";import{h as l}from"./index-b-BR7AAp.js";import{C as R}from"./Count-Bi4eiWBf.js";import{S as E}from"./vendor-BYm5b_XE.js";import"./charts-vendor-DwxpLNbD.js";import"./lodash-vendor-CBiJWk4A.js";const F={"Người dùng":z,"Khóa học":h,"Bài tập":j,"Số người đăng ký":h},K={"Người dùng":"purple","Khóa học":"teal","Bài tập":"orange","Số người đăng ký":"blue"},N=E(B),G=({refreshKey:x,onFinishRefresh:c})=>{const[s,b]=i.useState({users:0,courses:0,problems:0,enrolls:0}),p=i.useCallback(async()=>{var e,a,r,n;try{const[o,u,g,d]=await Promise.all([l({controller:"Course",page:1,pageSize:1}),l({controller:"Problem",page:1,pageSize:1}),l({controller:"Coder",page:1,pageSize:1}),l({controller:"Enrollment",page:1,pageSize:1})]);b({users:g.totalCount||((e=g.data)==null?void 0:e.totalCount)||0,courses:o.totalCount||((a=o.data)==null?void 0:a.totalCount)||0,problems:u.totalCount||((r=u.data)==null?void 0:r.totalCount)||0,enrolls:d.totalCount||((n=d.data)==null?void 0:n.totalCount)||0})}catch(o){console.error("Lỗi khi lấy số liệu thống kê:",o)}finally{c&&c()}},[]);i.useEffect(()=>{p()},[p,x]);const S=[{label:"Người dùng",value:s.users},{label:"Khóa học",value:s.courses},{label:"Bài tập",value:s.problems},{label:"Số người đăng ký",value:s.enrolls}];return t.jsx(C,{columns:{base:1,md:4},spacing:6,mb:8,children:S.map(({label:e,value:a},r)=>{const n=F[e],o=K[e];return t.jsx(N,{px:6,py:8,shadow:"xl",borderRadius:"lg",bgGradient:`linear(to-r, ${o}.400, ${o}.600)`,color:"white",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:r*.2},children:t.jsxs(m,{align:"center",children:[t.jsx(f,{boxSize:20,mr:2,bg:"whiteAlpha.300",borderRadius:"md",display:"flex",alignItems:"center",justifyContent:"center",children:t.jsx(y,{as:n,w:10,h:10})}),t.jsxs(m,{align:"start",flexDirection:"column",children:[t.jsx(k,{fontWeight:"bold",fontSize:"md",letterSpacing:"wider",children:e}),t.jsx(w,{fontSize:"3xl",fontWeight:"extrabold",letterSpacing:"tight",children:t.jsx(R,{to:a},a)})]})]})},e)})})};export{G as default};
