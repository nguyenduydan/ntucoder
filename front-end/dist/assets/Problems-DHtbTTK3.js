import{r as s,a5 as v,j as e,s as x,D as r,x as w,aD as L,$ as P,aO as k,aP as y,a2 as C,a4 as z}from"./index-DZ5M9zvS.js";import{C as E}from"./center-DAt1WTxe.js";const B=({height:u,refreshKey:p,onFinishRefresh:l})=>{const[o,g]=s.useState([]),[m,i]=s.useState(!1),[c,d]=s.useState(null),[a,b]=s.useState("true"),h=s.useCallback(async()=>{i(!0),d(null);try{const t={ascending:!0};(a==="true"||a==="false")&&(t.published=a==="true");const n=await v({controller:"Problem",page:1,pageSize:10,params:t});g(n.data||[])}catch(t){d("Không thể tải danh sách bài tập."),console.error("Lỗi khi lấy danh sách bài tập:",t)}finally{i(!1),l==null||l()}},[a,l]);s.useEffect(()=>{h()},[h,p]);const j=t=>{b(t.target.value)};return e.jsxs(x,{p:5,bg:"white",h:u||"auto",shadow:"md",borderRadius:"md",children:[e.jsxs(r,{fontSize:"xl",fontWeight:"bold",mb:4,children:["Bài tập (",o.length,")"]}),e.jsx(w,{mb:4,gap:4,align:"center",children:e.jsxs(L,{maxW:"200px",value:a,onChange:j,children:[e.jsx("option",{value:"",children:"Tất cả"}),e.jsx("option",{value:"true",children:"Công khai"}),e.jsx("option",{value:"false",children:"Không công khai"})]})}),m?e.jsx(E,{h:"100%",children:e.jsx(P,{size:"xl"})}):c?e.jsx(r,{color:"red.500",children:c}):o.length===0?e.jsx(r,{children:"Không có bài tập nào."}):e.jsx(k,{spacing:4,maxH:"250px",overflowY:"auto",children:o.map(({problemID:t,problemName:n,problemContent:f,coderName:S})=>e.jsxs(y,{p:4,borderWidth:"1px",borderRadius:"md",_hover:{shadow:"lg"},children:[e.jsx(r,{fontWeight:"bold",children:n}),e.jsx(x,{sx:{wordBreak:"break-word"},dangerouslySetInnerHTML:{__html:C(z(f,50))}}),e.jsxs(r,{fontSize:"sm",color:"gray.600",children:["Người tạo: ",S]})]},t))})]})};export{B as default};
