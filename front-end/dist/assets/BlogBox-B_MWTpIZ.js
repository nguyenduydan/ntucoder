import{r as e,j as s,s as l,D as j,W as B,a0 as w,P as z,R as v}from"./index-C3mpdEe2.js";const R=({coderID:r})=>{const[h,i]=e.useState(!0),[x,g]=e.useState([]),[a,c]=e.useState(1),[n,d]=e.useState(10),[u,f]=e.useState(0),[P,S]=e.useState(0),b=async(t=1,C=10)=>{i(!0);try{if(!r){g([]);return}const o=await v({controller:"Blog",page:t,pageSize:C,params:{coderID:r}});g(o.data||[]),S(o.totalCount||0),f(o.totalPages||1)}catch(o){console.error("❌ Error fetching blogs:",o)}finally{i(!1)}};e.useEffect(()=>{b(a,n)},[a,n]);const m=t=>{t>=1&&t<=u&&c(t)},p=t=>{d(t),c(1)};return s.jsxs(l,{h:"100%",bg:"white",borderRadius:"lg",display:"flex",flexDirection:"column",overflow:"hidden",px:5,py:4,children:[s.jsxs(l,{children:[s.jsx(j,{fontSize:"xl",color:"blue.600",fontWeight:"bold",mb:3,children:"Các bài viết đã đăng"}),s.jsx(B,{mt:1,w:"60px",h:"3px",bg:"blue",borderRadius:"md"})]}),s.jsx(l,{h:"55vh",overflowY:"auto",children:s.jsx(w,{blogs:x,loading:h,limitContent:100,limitTitle:30})}),s.jsx(z,{currentPage:a,totalPages:u,totalRows:P,onPageChange:m,pageSize:n,onPageSizeChange:p})]})};export{R as default};
