import{af as g,bC as z,bD as w,bE as v,j as t,ai as S,aj as b,r as p,a5 as d,a8 as R,O as P,x as y,s as B,Y as E,aS as C,bF as F,bG as L}from"./index-Du5abbo3.js";import{C as M}from"./Count-aafTpyuK.js";const[G,j]=z({name:"StatStylesContext",errorMessage:`useStatStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Stat />" `}),N=g(function(e,a){const o=w("Stat",e),i={position:"relative",flex:"1 1 0%",...o.container},{className:m,children:s,...n}=v(e);return t.jsx(G,{value:o,children:t.jsx(S.div,{ref:a,...n,className:b("chakra-stat",m),__css:i,children:t.jsx("dl",{children:s})})})});N.displayName="Stat";const k=g(function(e,a){const o=j();return t.jsx(S.dt,{ref:a,...e,className:b("chakra-stat__label",e.className),__css:o.label})});k.displayName="StatLabel";const _=g(function(e,a){const o=j();return t.jsx(S.dd,{ref:a,...e,className:b("chakra-stat__number",e.className),__css:{...o.number,fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}})});_.displayName="StatNumber";const I={"Người dùng":L,"Khóa học":C,"Bài tập":F,"Số người đăng ký":C},K={"Người dùng":"purple","Khóa học":"teal","Bài tập":"orange","Số người đăng ký":"blue"},A=P(N),W=({refreshKey:l,onFinishRefresh:e})=>{const[a,o]=p.useState({users:0,courses:0,problems:0,enrolls:0}),i=p.useCallback(async()=>{var s,n,c,u;try{const[r,h,x,f]=await Promise.all([d({controller:"Course",page:1,pageSize:1}),d({controller:"Problem",page:1,pageSize:1}),d({controller:"Coder",page:1,pageSize:1}),d({controller:"Enrollment",page:1,pageSize:1})]);o({users:x.totalCount||((s=x.data)==null?void 0:s.totalCount)||0,courses:r.totalCount||((n=r.data)==null?void 0:n.totalCount)||0,problems:h.totalCount||((c=h.data)==null?void 0:c.totalCount)||0,enrolls:f.totalCount||((u=f.data)==null?void 0:u.totalCount)||0})}catch(r){console.error("Lỗi khi lấy số liệu thống kê:",r)}finally{e&&e()}},[]);p.useEffect(()=>{i()},[i,l]);const m=[{label:"Người dùng",value:a.users},{label:"Khóa học",value:a.courses},{label:"Bài tập",value:a.problems},{label:"Số người đăng ký",value:a.enrolls}];return t.jsx(R,{columns:{base:1,md:4},spacing:6,mb:8,children:m.map(({label:s,value:n},c)=>{const u=I[s],r=K[s];return t.jsx(A,{px:6,py:8,shadow:"xl",borderRadius:"lg",bgGradient:`linear(to-r, ${r}.400, ${r}.600)`,color:"white",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:c*.2},children:t.jsxs(y,{align:"center",children:[t.jsx(B,{boxSize:20,mr:2,bg:"whiteAlpha.300",borderRadius:"md",display:"flex",alignItems:"center",justifyContent:"center",children:t.jsx(E,{as:u,w:10,h:10})}),t.jsxs(y,{align:"start",flexDirection:"column",children:[t.jsx(k,{fontWeight:"bold",fontSize:"md",letterSpacing:"wider",children:s}),t.jsx(_,{fontSize:"3xl",fontWeight:"extrabold",letterSpacing:"tight",children:t.jsx(M,{to:n},n)})]})]})},s)})})};export{W as default};
