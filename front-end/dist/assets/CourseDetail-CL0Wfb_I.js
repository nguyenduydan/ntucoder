const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Review-C58casqV.js","assets/index-Du5abbo3.js","assets/index-DrkF_CuB.css"])))=>i.map(i=>d[i]);
import{av as Me,r as a,j as e,s as h,O as He,am as Fe,aw as $e,a6 as w,ax as be,ay as Ne,I as ye,az as We,aA as Pe,E as ee,D as r,x as D,B as u,aB as _e,y as G,ao as q,i as H,u as Se,a7 as te,aC as Oe,aD as ce,aE as we,a as Ce,aF as Ie,c as ke,e as ve,h as De,aa as se,aG as ze,aH as Re,aI as Ge,aJ as Ke,aK as Ve,aL as Ye,aM as Xe,aN as Ue,aO as Le,m as Ze,w as Je,aP as de,l as Qe,z as qe,a2 as he,Y as C,as as et,aQ as tt,at as U,ac as xe,aR as me,aS as pe,aT as ue,aU as ge,aV as je,a9 as fe,al as st,an as Z,$ as J,ae as nt}from"./index-Du5abbo3.js";import{M as at}from"./Minus-CdrENXMI.js";import{S as rt}from"./skeleton-text-Q3_dH2_9.js";import{T as ot,a as Q}from"./tab-panels-CGlQI89n.js";import{C as ne}from"./center-BKQQgmkX.js";const it=Me({d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z",displayName:"ArrowBackIcon"}),lt=He(h),ct={hidden:{opacity:0,y:-50},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},normal:{opacity:1,y:0}},dt=({children:s,offsetTop:c=64,...l})=>{const t=a.useRef(null),[n,o]=a.useState(!1),[m,d]=a.useState(0),[g,z]=a.useState(0);return a.useEffect(()=>{const j=t.current;if(!j)return;const k=j.getBoundingClientRect().top+window.scrollY;d(j.offsetHeight);const v=()=>{const R=window.scrollY+c>=k;R&&!n?(o(!0),z(b=>b+1)):!R&&n&&o(!1)};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[n,c]),e.jsxs(h,{children:[n&&e.jsx(h,{height:`${m}px`}),e.jsx(lt,{ref:t,position:n?"fixed":"static",top:n?`${c}px`:"auto",left:0,zIndex:"100",width:"100%",bg:"white",boxShadow:n?"md":"none",borderBottom:"1px solid",borderColor:"gray.200",variants:ct,initial:n?"hidden":"normal",animate:n?"visible":"normal",...l,children:e.jsx(Fe,{height:n?"75px":"auto",justifyContent:n?"center":"flex-start",children:s})},g)]})};function ht(s){return $e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M22,3 L2,11 L20.5,19 L22,3 Z M10,20.5 L13,16 M15.5,9.5 L9,14 L9.85884537,20.0119176 C9.93680292,20.5576204 10.0751625,20.5490248 10.1651297,20.009222 L11,15 L15.5,9.5 Z"},child:[]}]})(s)}const xt=({coder:s,newComment:c,setNewComment:l,handleAddComment:t,...n})=>e.jsxs(w,{mt:3,align:"center",spacing:3,px:5,children:[e.jsx(be,{size:"sm",name:(s==null?void 0:s.name)||"Bạn",src:(s==null?void 0:s.avatar)||"https://bit.ly/prosper-baba"}),e.jsxs(Ne,{bg:"white",children:[e.jsx(ye,{pr:"5.5rem",placeholder:"Viết bình luận...",boxShadow:"md",value:c,onChange:o=>l(o.target.value),onKeyDown:o=>o.key==="Enter"&&t(),...n}),e.jsx(We,{width:"3rem",children:e.jsx(Pe,{icon:e.jsx(ht,{}),colorScheme:"green",size:"sm",onClick:t,"aria-label":"Gửi bình luận"})})]})]}),mt=5,Ae=({comment:s,onReply:c,onDelete:l,globalExpand:t})=>{var A,T;const{coder:n,isAuthenticated:o}=ee(),m=Se(),[d,g]=a.useState(!1),[z,j]=a.useState(""),[k,v]=a.useState(!1),[N,R]=a.useState(!1),b=a.useRef();a.useEffect(()=>{v(t)},[t]);const B=()=>R(!0),E=()=>R(!1),L=async()=>{if(z.trim()!=="")try{const p={content:z.trim(),courseID:s.courseID,parentCommentID:s.commentID},W=(n==null?void 0:n.token)||localStorage.getItem("token"),P=await H.post("/comments",p,{headers:{Authorization:`Bearer ${W}`}});c(s.commentID,{...P.data,replies:[]}),j(""),g(!1),v(!0)}catch(p){console.error("Add reply error",p),m({title:"Lỗi khi gửi bình luận",status:"error",position:"top",variant:"top-accent",duration:"1000"})}},K=()=>{g(!0),j(`@${s.coderName} `)},F=()=>{g(!1),j("")},M=async()=>{try{await H.delete(`/comments/${s.commentID}`),l(s.commentID),m({title:"Bạn đã xóa bình luận này",status:"success",position:"top",variant:"top-accent",duration:"1000"}),E()}catch(p){console.error("Delete comment error",p),m({title:"Bạn không thể xóa bình luận này",status:"error",position:"top",variant:"top-accent",duration:"1000"}),E()}};return e.jsxs(h,{children:[e.jsxs(D,{align:"flex-start",mb:2,position:"relative",children:[e.jsx(be,{size:"sm",name:s.coderName,src:s.coderAvatar,mr:3,mt:5,zIndex:1}),e.jsxs(h,{bg:"gray.200",p:3,borderRadius:"md",w:"full",zIndex:1,children:[e.jsxs(D,{justify:"space-between",align:"center",children:[e.jsx(te,{to:`/profile/${s.coderID}`,children:e.jsx(r,{fontWeight:"bold",fontSize:"sm",children:s.coderName})}),o&&(n==null?void 0:n.coderID)===s.coderID&&e.jsx(u,{size:"xs",colorScheme:"red",variant:"ghost",onClick:B,children:"Xóa"})]}),e.jsx(r,{fontSize:"sm",mt:1,children:s.content}),e.jsxs(w,{mt:2,spacing:4,children:[e.jsx(r,{fontSize:"xs",color:"gray.500",children:Oe(s.commentTime)}),e.jsx(u,{size:"xs",variant:"link",colorScheme:"blue",onClick:K,children:"Trả lời"}),((A=s.replies)==null?void 0:A.length)>0&&e.jsx(u,{size:"xs",variant:"link",colorScheme:"gray",onClick:()=>v(!k),children:k?"Ẩn trả lời":`Xem ${s.replies.length} trả lời`})]}),e.jsx(ce,{in:d,animateOpacity:!0,children:o&&e.jsx(G,{mt:2,align:"stretch",spacing:1,children:e.jsxs(w,{children:[e.jsx(ye,{placeholder:"Trả lời bình luận...",value:z,autoFocus:!0,bg:"white",onChange:p=>j(p.target.value),onKeyDown:p=>p.key==="Enter"&&L()}),e.jsx(u,{size:"sm",colorScheme:"blue",onClick:L,children:"Gửi"}),e.jsx(u,{size:"sm",variant:"outline",colorScheme:"red",onClick:F,children:"Hủy"})]})})})]})]}),e.jsx(ce,{in:k,animateOpacity:!0,children:e.jsx(h,{pl:10,position:"relative",children:(T=s.replies)==null?void 0:T.map(p=>e.jsx(Ae,{comment:p,onReply:()=>{},onDelete:l,globalExpand:t},p.commentID))})}),e.jsx(we,{isOpen:N,leastDestructiveRef:b,onClose:E,isCentered:!0,children:e.jsx(Ce,{children:e.jsxs(Ie,{children:[e.jsx(ke,{fontSize:"lg",fontWeight:"bold",children:"Xác nhận xóa"}),e.jsx(ve,{children:"Bạn có chắc muốn xóa bình luận này? Hành động này không thể hoàn tác."}),e.jsxs(De,{children:[e.jsx(u,{ref:b,onClick:E,children:"Hủy"}),e.jsx(u,{colorScheme:"red",onClick:M,ml:3,children:"Xóa"})]})]})})})]})},pt=({courseId:s})=>{const c=a.useRef(null),{coder:l,isAuthenticated:t}=ee(),[n,o]=a.useState([]),[m,d]=a.useState(""),[g,z]=a.useState(!1),[j,k]=a.useState(!1),[v,N]=a.useState(!0),[R,b]=a.useState(1),[B,E]=a.useState(!1),[L,K]=a.useState("CommentTime"),[F,M]=a.useState(!1),A=async(i=1,I=!1,y=mt)=>{try{i===1?z(!0):k(!0);const f=await H.get("/comments",{params:{courseId:s,page:i,pageSize:y,sortBy:L,ascending:F}}),_=f.data.data||[],Y=f.data.totalPages||1;o(I?X=>[...X,..._]:_),b(i),N(i<Y)}catch(f){console.error("Load comments error",f)}finally{z(!1),k(!1)}},T=a.useCallback(()=>{if(!c.current||j||g||!v)return;const{scrollTop:i,scrollHeight:I,clientHeight:y}=c.current;I-i-y<100&&A(R+1,!0)},[R,A,v,j,g]);a.useEffect(()=>{const i=c.current;if(i)return i.addEventListener("scroll",T),()=>{i.removeEventListener("scroll",T)}},[T]),a.useEffect(()=>{s&&(B?A(1,!1,9999):A(1,!1))},[s,L,F,B]);const p=i=>{o(I=>I.filter(y=>y.commentID!==i).map(y=>({...y,replies:y.replies?y.replies.filter(f=>f.commentID!==i):[]})))},W=async()=>{if(m.trim()!==""){if(!t){alert("Bạn cần đăng nhập để bình luận");return}try{const i={content:m.trim(),courseID:s,parentCommentID:null},I=(l==null?void 0:l.token)||localStorage.getItem("token"),y=await H.post("/comments",i,{headers:{Authorization:`Bearer ${I}`}});o(f=>[{...y.data,replies:[]},...f]),d("")}catch(i){console.error("Add comment error",i),alert("Lỗi khi gửi bình luận")}}},P=(i,I)=>{o(y=>y.map(f=>f.commentID===i?{...f,replies:[...f.replies||[],I]}:f))},V=()=>{E(i=>!i)};return g?e.jsx(r,{textAlign:"center",w:"100%",maxW:"100%",children:"Đang tải bình luận..."}):e.jsxs(h,{w:"100%",maxW:"100%",mx:"auto",px:4,py:2,children:[!t&&e.jsx(r,{color:"red",fontStyle:"italic",children:"**Đăng nhập để có thể bình luận"}),e.jsxs(D,{justify:"space-between",align:"center",mb:4,flexWrap:"wrap",gap:2,children:[e.jsx(r,{fontSize:"lg",fontWeight:"bold",children:"Bình luận"}),e.jsxs(w,{spacing:2,children:[e.jsx(u,{colorScheme:"navy",px:4,py:2,onClick:V,maxW:"150px",whiteSpace:"normal",children:e.jsx(r,{fontSize:"12px",textAlign:"center",children:B?"Thu gọn tất cả trả lời":"Xem tất cả trả lời"})}),e.jsxs(_e,{ms:4,size:"sm",value:F?"asc":"desc",onChange:i=>M(i.target.value==="asc"),borderRadius:"md",children:[e.jsx("option",{value:"desc",children:"Mới nhất trước"}),e.jsx("option",{value:"asc",children:"Cũ nhất trước"})]})]})]}),e.jsx(h,{height:"400px",overflowY:"auto",borderColor:"gray.200",borderRadius:"md",bg:"white",ref:c,px:4,py:2,children:e.jsxs(G,{spacing:4,align:"stretch",children:[n.map(i=>e.jsx(Ae,{comment:i,onReply:P,onDelete:p,globalExpand:B},i.commentID)),j&&e.jsxs(G,{spacing:3,mt:3,children:[e.jsx(q,{height:"20px",width:"100%"}),e.jsx(q,{height:"20px",width:"90%"}),e.jsx(q,{height:"20px",width:"95%"})]})]})}),t&&e.jsx(xt,{coder:l,newComment:m,setNewComment:d,handleAddComment:W})]})},ut=({lesson:s,isLoggedIn:c,isEnrolled:l,toast:t})=>{const n=ze(),o=s.lessonID||Math.random(),m=e.jsx(Re,{cursor:"pointer",_hover:{bg:"gray.300",transform:"scale(1.01)"},transition:"all .2s ease-in-out",pl:2,bg:"gray.50",borderRadius:"sm",p:2,onClick:()=>{c||t({title:"Bạn cần đăng nhập để truy cập trang này.",status:"warning",duration:2e3,isClosable:!0,position:"top",variant:"top-accent"})},children:e.jsxs(r,{fontSize:"md",children:["📚 ",s.lessonTitle||"Không có tên bài học"]})});return!l||!c?e.jsx(h,{children:e.jsx(h,{cursor:l?"pointer":"default",children:m})},o):e.jsx(h,{children:e.jsx(te,{to:`${n.pathname}/${s.lessonID}`,style:({isActive:d})=>({textDecoration:"none",color:d?"blue.500":"inherit"}),children:m})},o)},gt=se.memo(ut),jt=({topic:s,index:c,isAuthenticated:l,isEnrolled:t,toast:n})=>e.jsx(Re,{bg:"gray.100",borderRadius:"md",children:e.jsx(Ge,{allowToggle:!0,children:e.jsx(Ke,{border:"none",children:({isExpanded:o})=>{var m,d;return e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:e.jsxs(Ve,{_expanded:{bg:"gray.200"},borderRadius:"sm",children:[e.jsxs(h,{flex:"1",textAlign:"left",borderBottomWidth:2,borderStyle:"dashed",py:2,children:[e.jsxs(r,{fontSize:"lg",children:[e.jsxs(r,{as:"span",fontWeight:"bold",children:["Chủ đề ",c+1,":"]})," ",(s==null?void 0:s.topicName)||"Không có tên"]}),e.jsxs(D,{alignItems:"center",gap:2,fontSize:"sm",children:[e.jsx(r,{as:"span",children:e.jsx(Ye,{})}),"Tổng số bài học: ",((m=s==null?void 0:s.lessons)==null?void 0:m.length)||0]})]}),o?e.jsx(at,{boxSize:4}):e.jsx(Xe,{boxSize:4})]})}),e.jsx(Ue,{pb:4,children:(d=s.lessons)!=null&&d.length?e.jsx(Le,{spacing:2,children:s.lessons.map(g=>e.jsx(gt,{lesson:g,isLoggedIn:l.isAuthenticated,isEnrolled:t,toast:n},g.lessonID||Math.random()))}):e.jsx(r,{fontSize:"md",color:"gray.500",children:"Không có bài học nào."})})]})}},s==null?void 0:s.topicID)})},(s==null?void 0:s.topicID)||c),ft=se.memo(jt),bt=({course:s,isAuthenticated:c,isEnrolled:l,toast:t})=>!Array.isArray(s==null?void 0:s.topics)||s.topics.length===0?e.jsx(r,{fontSize:"md",color:"gray.500",children:"Không có chủ đề nào."}):e.jsx(Le,{spacing:0,children:s.topics.map((n,o)=>e.jsx(ft,{topic:n,index:o,isAuthenticated:c,isEnrolled:l,toast:t},(n==null?void 0:n.topicID)||o))}),yt=se.memo(bt),St=se.lazy(()=>nt(()=>import("./Review-C58casqV.js"),__vite__mapDeps([0,1,2]))),Dt=()=>{var f,_,Y,X,ae,re,oe,ie;const{slugId:s}=Ze(),c=s?s.split("-"):[],l=c.length>0?parseInt(c.pop(),10):NaN,[t,n]=a.useState(null),[o,m]=a.useState(!0),d=Se(),g=Je(),z=ze(),[j,k]=a.useState(!1),[v,N]=a.useState([]),R=ee(),{coder:b}=ee(),[B,E]=a.useState(0),[L,K]=a.useState([!0,!1,!1,!1]),F=S=>{E(S),K(x=>{const $=[...x];return $[S]=!0,$})},M=a.useCallback(async()=>{if(isNaN(l)){d({title:"Lỗi",description:"ID không hợp lệ!",status:"error",duration:3e3,isClosable:!0}),m(!1),g("/course");return}try{const S=await de({controller:"Course",id:l});if(!S||Object.keys(S).length===0){d({title:"Cảnh báo",description:"Không có dữ liệu cho khóa học này.",status:"warning",duration:3e3,isClosable:!0}),n(null);return}const x=S.topics||[],$=await Promise.all(x.map(async O=>{try{const Be=((await de({controller:"Topic",id:O.topicID})).lessons||[]).filter(Ee=>Number(Ee.status)===1);return{...O,lessons:Be}}catch(le){return console.log("Error fetching lessons:",le),{...O,lessons:[]}}})),Te=await H.get(`/Course/problem-count?courseId=${l}`);if(N(Te.data),n({...S,topics:$}),b!=null&&b.coderID){const O=await H.get("/Enrollment/CheckEnrollment",{params:{courseId:l||"",coderID:b.coderID||""}});k(O.data.isEnrolled)}}catch{d({title:"Lỗi",description:"Không thể tải dữ liệu. Vui lòng thử lại!",status:"error",duration:3e3,isClosable:!0}),n(null)}finally{m(!1)}},[l,b==null?void 0:b.coderID,g,d]);a.useEffect(()=>{M()},[M]);const A=t!=null&&t.topics?t.topics.length:0,T=t!=null&&t.topics?t.topics.reduce((S,x)=>S+(x.lessons?x.lessons.length:0),0):0;Qe((t==null?void 0:t.courseName)||"Khóa học");const p=async()=>{if(R.isAuthenticated===!1)d({title:"Bạn cần phải đăng nhập.",status:"warning",duration:2e3,isClosable:!0,position:"top",variant:"top-accent"});else{const S={courseID:l};try{const x=await H.post("/Enrollment",S);x.status===200||x.status===201?(k(!0),d({title:"Đăng ký khóa học thành công",status:"success",duration:2e3,isClosable:!0,position:"top",variant:"top-accent"})):d({title:"Lỗi đăng ký khóa học",description:x.data.message,status:"error",duration:2e3,isClosable:!0,position:"top",variant:"top-accent"}),M()}catch(x){console.error("Lỗi đăng ký: ",x.response?x.response.data:x.message),d({title:x.response?x.response.data.message:x.message,status:"error",duration:2e3,isClosable:!0,position:"top",variant:"top-accent"})}}},W=a.useRef(),[P,V]=a.useState(!1),i=()=>V(!0),I=()=>V(!1),y=async()=>{var S,x;try{(await H.delete("/Enrollment",{data:{courseID:l,coderID:b.coderID}})).status===200&&(k(!1),d({title:"Đã hủy đăng ký khóa học.",status:"success",duration:2e3,isClosable:!0,position:"top",variant:"top-accent"}),M())}catch($){d({title:"Lỗi hủy đăng ký",description:((x=(S=$.response)==null?void 0:S.data)==null?void 0:x.message)||"Có lỗi xảy ra",status:"error",duration:2e3,isClosable:!0,position:"top",variant:"top-accent"})}};return e.jsxs(h,{p:6,maxW:"100%",minH:"100vh",mx:"auto",w:{lg:"calc(100% - 360px)",md:"100%"},children:[e.jsx(u,{leftIcon:e.jsx(it,{}),mb:2,colorScheme:"blue",variant:"ghost",onClick:()=>g("/course"),children:"Trở về trước"}),e.jsxs(D,{direction:{base:"column",md:"row"},gap:5,children:[e.jsxs(h,{flex:3,minH:570,overflowY:"auto",position:"static",children:[e.jsxs(D,{direction:{base:"column",md:"row"},gap:6,bgGradient:"linear(to-r, blue.900, blue.700)",p:8,borderRadius:"md",boxShadow:"lg",children:[e.jsx(h,{flex:3,children:o?e.jsx(q,{height:"250px",borderRadius:"md"}):e.jsx(qe,{alt:"Course Avatar",w:"100%",h:{base:"200px",md:"250px"},borderRadius:"md",objectFit:"cover",boxShadow:"lg",src:(t==null?void 0:t.imageUrl)||"/avatarSimmmple.png"})}),e.jsx(h,{flex:3,color:"white",borderRadius:"lg",children:o?e.jsx(rt,{noOfLines:3,spacing:4}):e.jsxs(h,{children:[e.jsx(r,{fontSize:"3xl",letterSpacing:1.2,fontWeight:"bold",children:t==null?void 0:t.courseName}),e.jsxs(r,{mt:2,children:[" ",e.jsx(h,{sx:{wordBreak:"break-word"},dangerouslySetInnerHTML:{__html:he(t==null?void 0:t.description)}})]}),e.jsxs(w,{mt:4,spacing:4,children:[e.jsxs(r,{children:["Tác giả: ",e.jsx(r,{as:"span",color:"blue.300",children:t==null?void 0:t.creatorName})]}),e.jsx(C,{as:et}),e.jsxs(r,{children:[(t==null?void 0:t.enrollCount)||"0"," Học viên"]}),e.jsx(C,{as:tt,color:"yellow.400"})," ",e.jsxs(r,{children:[" ",t.rating?t.rating.toFixed(1):"0"]})]})]})}),e.jsx(h,{w:{base:"100%",md:"300px"},display:{base:"block",lg:"none"},children:e.jsxs(h,{color:"white",borderRadius:"lg",w:"full",children:[e.jsxs(D,{mt:"1",pb:3,align:"center",justify:"space-between",borderBottomWidth:2,borderBottomColor:"gray.600",children:[(t==null?void 0:t.fee)>=0&&e.jsxs(D,{alignItems:"left",direction:"column",children:[e.jsx(r,{fontSize:"4xl",fontWeight:"bold",children:(t==null?void 0:t.fee)===0?"Miễn phí":U((t==null?void 0:t.fee)||0)}),e.jsx(r,{ml:"2",fontSize:"md",textDecoration:"line-through",color:"gray.400",children:(t==null?void 0:t.originalFee)===0?"":U((t==null?void 0:t.originalFee)||0)})]}),(t==null?void 0:t.originalFee)>0&&e.jsxs(xe,{colorScheme:"red",ml:"2",px:"2",py:"1",mb:10,fontSize:"sm",bg:"red.500",color:"white",borderRadius:"md",children:["-",(t==null?void 0:t.discountPercent)||0,"%"]})]}),e.jsxs(G,{align:"start",mt:4,spacing:3,children:[e.jsxs(w,{children:[e.jsx(C,{as:me}),e.jsxs(r,{children:[A," chủ đề"]})]}),e.jsxs(w,{children:[e.jsx(C,{as:pe}),e.jsxs(r,{children:[T," bài học"]})]}),e.jsxs(w,{children:[e.jsx(C,{as:ue}),e.jsxs(r,{children:[v," bài tập"]})]}),e.jsxs(w,{children:[e.jsx(C,{as:ge}),e.jsx(r,{children:"Truy cập trọn đời"})]}),e.jsxs(w,{children:[e.jsx(C,{as:je}),e.jsx(r,{children:"Chứng chỉ khi hoàn thành"})]})]}),j===!0&&((X=(Y=(_=(f=t==null?void 0:t.topics)==null?void 0:f[0])==null?void 0:_.lessons)==null?void 0:Y[0])!=null&&X.lessonID)?e.jsxs(D,{direction:"column",gap:4,children:[e.jsx(te,{to:`${z.pathname}/${t.topics[0].lessons[0].lessonID}`,children:e.jsxs(u,{colorScheme:"blue",mt:4,w:"full",fontSize:"18px",display:"flex",alignItems:"center",justifyContent:"center",_hover:{transform:"translateY(-3px)",boxShadow:"0px 4px 10px rgb(39, 87, 246)",transition:"transform 0.3s ease"},children:["Vào học ",e.jsx(C,{as:fe,ml:2})]})}),e.jsx(u,{colorScheme:"red",w:"full",fontSize:"18px",onClick:i,children:"Hủy đăng ký"})]}):e.jsx(u,{colorScheme:(t==null?void 0:t.fee)===0?"green":"red",mt:4,w:"full",fontSize:"18px",onClick:p,children:(t==null?void 0:t.fee)===0?"Đăng ký miễn phí":"Mua ngay"})]})})]}),e.jsxs(st,{index:B,onChange:F,mt:6,colorScheme:"blue",bg:"white",borderRadius:"md",children:[e.jsxs(dt,{offsetTop:0,children:[e.jsx(Z,{children:"Giới thiệu"}),e.jsx(Z,{children:"Giáo trình"}),e.jsx(Z,{children:"Đánh giá"}),e.jsx(Z,{children:"Bình luận"})]}),e.jsxs(ot,{children:[e.jsx(Q,{children:L[0]&&(o?e.jsx(ne,{children:e.jsx(J,{color:"blue.500",size:"md"})}):e.jsx(h,{px:5,py:2,sx:{wordBreak:"break-word"},dangerouslySetInnerHTML:{__html:he(t==null?void 0:t.overview)}}))}),e.jsx(Q,{children:L[1]&&(o?e.jsx(ne,{children:e.jsx(J,{color:"blue.500",size:"md"})}):e.jsx(yt,{course:t,isAuthenticated:R,isEnrolled:j,toast:d}))}),e.jsx(Q,{w:"100%",children:L[2]&&(o?e.jsx(ne,{w:"100%",h:"100%",children:e.jsx(J,{color:"blue.500",size:"md"})}):e.jsx(a.Suspense,{fallback:e.jsx(J,{color:"blue.500",size:"md"}),children:e.jsx(St,{courseId:l})}))}),e.jsx(Q,{children:L[3]&&e.jsx(pt,{courseId:l})})]})]})]}),e.jsx(h,{display:{base:"none",lg:"block"},position:"relative",w:"300px",children:e.jsxs(h,{bg:"blue.900",color:"white",p:4,borderRadius:"lg",w:"300px",maxH:"max-content",position:{base:"static",md:"fixed"},right:"200px",top:"135px",boxShadow:"lg",children:[e.jsxs(D,{mt:"1",pb:3,align:"center",justify:"space-between",borderBottomWidth:2,borderBottomColor:"gray.600",children:[(t==null?void 0:t.fee)>=0&&e.jsxs(D,{alignItems:"left",direction:"column",children:[e.jsx(r,{fontSize:"4xl",fontWeight:"bold",children:(t==null?void 0:t.fee)===0?"Miễn phí":U((t==null?void 0:t.fee)||0)}),e.jsx(r,{ml:"2",fontSize:"md",textDecoration:"line-through",color:"gray.400",children:(t==null?void 0:t.originalFee)===0?"":U((t==null?void 0:t.originalFee)||0)})]}),(t==null?void 0:t.originalFee)>0&&e.jsxs(xe,{colorScheme:"red",ml:"2",px:"2",py:"1",mb:10,fontSize:"sm",bg:"red.500",color:"white",borderRadius:"md",children:["-",(t==null?void 0:t.discountPercent)||0,"%"]})]}),e.jsxs(G,{align:"start",mt:4,spacing:3,children:[e.jsxs(w,{children:[e.jsx(C,{as:me}),e.jsxs(r,{children:[A," chủ đề"]})]}),e.jsxs(w,{children:[e.jsx(C,{as:pe}),e.jsxs(r,{children:[T," bài học"]})]}),e.jsxs(w,{children:[e.jsx(C,{as:ue}),e.jsxs(r,{children:[v," bài tập"]})]}),e.jsxs(w,{children:[e.jsx(C,{as:ge}),e.jsx(r,{children:"Truy cập trọn đời"})]}),e.jsxs(w,{children:[e.jsx(C,{as:je}),e.jsx(r,{children:"Chứng chỉ khi hoàn thành"})]})]}),j===!0&&((ie=(oe=(re=(ae=t==null?void 0:t.topics)==null?void 0:ae[0])==null?void 0:re.lessons)==null?void 0:oe[0])!=null&&ie.lessonID)?e.jsxs(D,{direction:"column",gap:4,children:[e.jsx(te,{to:`${z.pathname}/${t.topics[0].lessons[0].lessonID}`,children:e.jsxs(u,{colorScheme:"blue",mt:4,w:"full",fontSize:"18px",display:"flex",alignItems:"center",justifyContent:"center",_hover:{transform:"translateY(-3px)",boxShadow:"0px 4px 10px rgb(39, 87, 246)",transition:"transform 0.3s ease"},children:["Vào học ",e.jsx(C,{as:fe,ml:2})]})}),e.jsx(u,{colorScheme:"red",w:"full",fontSize:"18px",onClick:i,children:"Hủy đăng ký"})]}):e.jsx(u,{colorScheme:(t==null?void 0:t.fee)===0?"green":"red",mt:4,w:"full",fontSize:"18px",onClick:p,children:(t==null?void 0:t.fee)===0?"Đăng ký miễn phí":"Mua ngay"})]})})]}),e.jsx(we,{isOpen:P,leastDestructiveRef:W,onClose:I,isCentered:!0,children:e.jsx(Ce,{children:e.jsxs(Ie,{children:[e.jsx(ke,{fontSize:"lg",fontWeight:"bold",children:"Xác nhận hủy đăng ký"}),e.jsx(ve,{textAlign:"center",fontSize:"xl",children:"Bạn có chắc chắn muốn hủy đăng ký khóa học này? Hành động này không thể hoàn tác."}),e.jsxs(De,{children:[e.jsx(u,{ref:W,onClick:I,children:"Hủy"}),e.jsx(u,{colorScheme:"red",onClick:()=>{I(),y()},ml:3,children:"Xác nhận"})]})]})})})]})};export{Dt as default};
