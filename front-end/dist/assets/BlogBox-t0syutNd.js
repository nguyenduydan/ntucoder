import{r as e,j as o,s as r,D as j,ax as B,P as w,a5 as z}from"./index-DZ5M9zvS.js";import{L as v}from"./ListBlogs-DO4WRdqm.js";import"./InfoBlog-NUP5iAKJ.js";const R=({coderID:l})=>{const[x,i]=e.useState(!0),[h,g]=e.useState([]),[a,c]=e.useState(1),[n,d]=e.useState(10),[u,f]=e.useState(0),[m,p]=e.useState(0),P=async(t=1,C=10)=>{i(!0);try{if(!l){g([]);return}const s=await z({controller:"Blog",page:t,pageSize:C,params:{coderID:l}});g(s.data||[]),p(s.totalCount||0),f(s.totalPages||1)}catch(s){console.error("❌ Error fetching blogs:",s)}finally{i(!1)}};e.useEffect(()=>{P(a,n)},[a,n]);const S=t=>{t>=1&&t<=u&&c(t)},b=t=>{d(t),c(1)};return o.jsxs(r,{h:"100%",bg:"white",borderRadius:"lg",display:"flex",flexDirection:"column",overflow:"hidden",px:5,py:4,children:[o.jsxs(r,{children:[o.jsx(j,{fontSize:"xl",color:"blue.600",fontWeight:"bold",mb:3,children:"Các bài viết đã đăng"}),o.jsx(B,{mt:1,w:"60px",h:"3px",bg:"blue",borderRadius:"md"})]}),o.jsx(r,{h:"55vh",overflowY:"auto",children:o.jsx(v,{blogs:h,loading:x,limitContent:100,limitTitle:30})}),o.jsx(w,{currentPage:a,totalPages:u,totalRows:m,onPageChange:S,pageSize:n,onPageSizeChange:b})]})};export{R as default};
