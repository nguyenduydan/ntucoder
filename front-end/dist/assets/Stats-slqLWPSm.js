import{ag as p,ah as _,ai as w,aj as R,j as t,ak as S,al as h,r as g,R as d,am as v,an as P,z as f,s as B,ao as L,ap as C,aq as M,ar as E,as as F}from"./index-C3mpdEe2.js";const[I,j]=_({name:"StatStylesContext",errorMessage:`useStatStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Stat />" `}),N=p(function(e,a){const o=w("Stat",e),i={position:"relative",flex:"1 1 0%",...o.container},{className:m,children:s,...n}=R(e);return t.jsx(I,{value:o,children:t.jsx(S.div,{ref:a,...n,className:h("chakra-stat",m),__css:i,children:t.jsx("dl",{children:s})})})});N.displayName="Stat";const k=p(function(e,a){const o=j();return t.jsx(S.dt,{ref:a,...e,className:h("chakra-stat__label",e.className),__css:o.label})});k.displayName="StatLabel";const z=p(function(e,a){const o=j();return t.jsx(S.dd,{ref:a,...e,className:h("chakra-stat__number",e.className),__css:{...o.number,fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}})});z.displayName="StatNumber";const K={"Người dùng":E,"Khóa học":C,"Bài tập":M,"Số người đăng ký":C},A={"Người dùng":"purple","Khóa học":"teal","Bài tập":"orange","Số người đăng ký":"blue"},G=P(N),$=({refreshKey:r,onFinishRefresh:e})=>{const[a,o]=g.useState({users:0,courses:0,problems:0,enrolls:0}),i=g.useCallback(async()=>{var s,n,c,u;try{const[l,x,b,y]=await Promise.all([d({controller:"Course",page:1,pageSize:1}),d({controller:"Problem",page:1,pageSize:1}),d({controller:"Coder",page:1,pageSize:1}),d({controller:"Enrollment",page:1,pageSize:1})]);o({users:b.totalCount||((s=b.data)==null?void 0:s.totalCount)||0,courses:l.totalCount||((n=l.data)==null?void 0:n.totalCount)||0,problems:x.totalCount||((c=x.data)==null?void 0:c.totalCount)||0,enrolls:y.totalCount||((u=y.data)==null?void 0:u.totalCount)||0})}catch(l){console.error("Lỗi khi lấy số liệu thống kê:",l)}finally{e&&e()}},[]);g.useEffect(()=>{i()},[i,r]);const m=[{label:"Người dùng",value:a.users},{label:"Khóa học",value:a.courses},{label:"Bài tập",value:a.problems},{label:"Số người đăng ký",value:a.enrolls}];return t.jsx(v,{columns:{base:1,md:4},spacing:6,mb:8,children:m.map(({label:s,value:n},c)=>{const u=K[s],l=A[s];return t.jsx(G,{px:6,py:8,shadow:"xl",borderRadius:"lg",bgGradient:`linear(to-r, ${l}.400, ${l}.600)`,color:"white",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:c*.2},children:t.jsxs(f,{align:"center",children:[t.jsx(B,{boxSize:20,mr:2,bg:"whiteAlpha.300",borderRadius:"md",display:"flex",alignItems:"center",justifyContent:"center",children:t.jsx(L,{as:u,w:10,h:10})}),t.jsxs(f,{align:"start",flexDirection:"column",children:[t.jsx(k,{fontWeight:"bold",fontSize:"md",letterSpacing:"wider",children:s}),t.jsx(z,{fontSize:"3xl",fontWeight:"extrabold",letterSpacing:"tight",children:t.jsx(F,{to:n},n)})]})]})},s)})})};export{$ as default};
